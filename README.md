# PET 智慧排程助手 (PET Smart Scheduler)

專為核子醫學科設計的 FDG-PET/CT 智慧排程系統。

本系統能夠自動計算最佳打藥時間，解決 uptake time 與機器排程的衝突，確保所有病人的等待時間都在安全範圍內，並最大化機器使用效率。

**線上試用 (Live Demo):** [https://purekboy-ui.github.io/PETArr/](https://purekboy-ui.github.io/PETArr/)

## 核心功能

### 1. 智慧排程演算法
系統會根據病人數量與參數，自動切換最佳模式：
- **批次模式 (Batch Mode)**：病人較少時，依序完成所有人的 Early Scan 後，再一次進行 Delayed Scan。適用於簡單情境。
- **自動插單模式 (Auto-Interleaved Mode)**：病人較多時，自動計算切斷點，在 Early Scan 之間穿插 Delayed Scan，防止後面的病人等待過久（超過設定的最大等待時間）。
- **僅 Early 模式 (Early Only)**：當設定不需要 Delayed Scan 時，自動切換為連續排程模式。

### 2. Posluma (PSMA) 支援
- 支援與 FDG 檢查混合排程。
- 可自訂 Posluma 病人數、掃描時間與 Uptake Time。
- 衝突檢測與建議：若自訂時間與其他檢查衝突，系統會自動建議最佳時段並提供一鍵採用功能。

### 3. 高度客製化參數
- **時間設定**：可調整打藥時間、掃描時間、Uptake Time。
- **限制條件**：支援設定「最小等待時間」與「最大等待時間」，確保符合臨床規範。
- **午休支援**：可設定中午空機時段，系統會自動避開。

### 4. 視覺化介面
- **甘特圖**：以 5 分鐘為單位的格線圖，清楚掌握機器佔用狀況。
- **狀態監控**：即時顯示最長等待時間與機器閒置時間。
- **響應式設計**：支援桌機、平板與手機操作。

### 5. 列印最佳化
- 支援標準列印功能 (Ctrl + P)。
- 自動隱藏 UI 設定區塊，只保留「建議打藥時刻表」與「執行清單」。
- 包含放射師簽名欄位，可直接作為正式工作表單。

## 使用說明

1. **參數設定**：輸入預計的病人數量（FDG / Posluma），並確認掃描時間參數。
2. **檢視排程**：系統會即時運算並顯示結果。
3. **打藥時刻表**：提供給護理師，依照建議時間進行打藥。
4. **執行工作**：放射師可參考下方的執行清單與甘特圖進行掃描。
5. **列印**：需要紙本留存時，可直接列印使用。

## 技術架構

- **Single Page Application (SPA)**：純前端架構，無後端依賴，資料安全性高。
- **React**：使用 React 進行元件化開發，效能優異。
- **Deployment**：透過 GitHub Actions 自動部署。

---
Created by Huang Chun-Yin
